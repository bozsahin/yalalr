
> (load "ex-expr")

T
> (make-lalrparser)
; in: DEFUN LALR-PARSER
;     #'(LAMBDA (ID COLON EQLS E END)
;         (PPRINT-CODE (MK-CODE (APPEND (VAR-GET-CODE E) (MK-2COPY # #)))))
; 
; caught STYLE-WARNING:
;   The variable COLON is defined but never used.
; 
; caught STYLE-WARNING:
;   The variable EQLS is defined but never used.
; 
; caught STYLE-WARNING:
;   The variable END is defined but never used.

;     #'(LAMBDA (LP E RP) (IDENTITY E))
; 
; caught STYLE-WARNING:
;   The variable LP is defined but never used.
; 
; caught STYLE-WARNING:
;   The variable RP is defined but never used.

;     #'(LAMBDA (SUB ID)
;         (LET ((NEWPLACE (NEWTEMP)))
;           (LIST (MK-PLACE NEWPLACE) (MK-CODE (MK-2AC 'UMINUS NEWPLACE #)))))
; 
; caught STYLE-WARNING:
;   The variable SUB is defined but never used.

;     #'(LAMBDA (TE MULT F)
;         (LET ((NEWPLACE (NEWTEMP)))
;           (LIST (MK-PLACE NEWPLACE) (MK-CODE (APPEND # # #)))))
; 
; caught STYLE-WARNING:
;   The variable MULT is defined but never used.

;     #'(LAMBDA (E ADD TE)
;         (LET ((NEWPLACE (NEWTEMP)))
;           (LIST (MK-PLACE NEWPLACE) (MK-CODE (APPEND # # #)))))
; 
; caught STYLE-WARNING:
;   The variable ADD is defined but never used.

;     #'(LAMBDA (TE DIV F)
;         (LET ((NEWPLACE (NEWTEMP)))
;           (LIST (MK-PLACE NEWPLACE) (MK-CODE (APPEND # # #)))))
; 
; caught STYLE-WARNING:
;   The variable DIV is defined but never used.

;     #'(LAMBDA (E SUB TE)
;         (LET ((NEWPLACE (NEWTEMP)))
;           (LIST (MK-PLACE NEWPLACE) (MK-CODE (APPEND # # #)))))
; 
; caught STYLE-WARNING:
;   The variable SUB is defined but never used.
; 
; compilation unit finished
;   caught 10 STYLE-WARNING conditions

LALR-PARSER
NIL
NIL
> (target-code "tokens")

(3AC MULT #:|t-362| C D)
(3AC ADD #:|t-363| B #:|t-362|)
(2AC UMINUS #:|t-364| E)
(3AC ADD #:|t-365| #:|t-364| F)
(3AC DIV #:|t-366| #:|t-365| 5)
(3AC SUB #:|t-367| #:|t-363| #:|t-366|)
(2COPY A #:|t-367|)
T
> (target-code "tokens2")

(2AC UMINUS #:|t-368| F)
(3AC DIV #:|t-369| #:|t-368| 5)
(2COPY B #:|t-369|)
T
> (dribble)
